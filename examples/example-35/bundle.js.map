{"version":3,"file":"bundle.js","sources":["data.js","timePlot.js","index.js"],"sourcesContent":["\nconst stringTimes = [\n   {\n    tijdstipRegistratie: '2020-01-01T08:00:00',\n    eindRegistratie: null,\n    beginGeldigheid: '2020-01-02',\n    eindGeldigheid: null,\n    value: 'versie 1',\n  }\n  /*\n  {\n    tijdstipRegistratie: '2020-01-01T08:00:00',\n    eindRegistratie: '2020-02-01T08:00:00',\n    beginGeldigheid: '2020-01-02',\n    eindGeldigheid: null,\n    value: 'versie 1',\n  },\n  {\n    tijdstipRegistratie: '2020-02-01T08:00:00',\n    eindRegistratie: null,\n    beginGeldigheid: '2020-01-02',\n    eindGeldigheid: '2020-02-02',\n    value: 'versie 1',\n  },\n  {\n    tijdstipRegistratie: '2020-02-01T08:00:00',\n    eindRegistratie: '2020-03-01T08:00:00',\n    beginGeldigheid: '2020-02-02',\n    eindGeldigheid: null,\n    value: 'versie 2',\n  },\n  {\n    tijdstipRegistratie: '2020-03-01T08:00:00',\n    eindRegistratie: null,\n    beginGeldigheid: '2020-03-02',\n    eindGeldigheid: null,\n    value: 'versie 2',\n  },\n  {\n    tijdstipRegistratie: '2020-03-01T08:00:00',\n    eindRegistratie: null,\n    beginGeldigheid: '2020-04-02',\n    eindGeldigheid: null,\n    value: 'versie 3',\n  },\n  */\n];\n\nexport var timeTable = [];\n\nstringTimes.forEach((d) => {\n  let timeLine = {};\n  timeLine.tijdstipRegistratie = new Date(d.tijdstipRegistratie + 'Z');\n  timeLine.eindRegistratie = (timeLine.eindRegistratie !== null) ? new Date(d.eindRegistratie + 'Z') : null;\n  timeLine.beginGeldigheid = new Date(d.beginGeldigheid + 'Z');\n  timeLine.eindGeldigheid = (timeLine.eindGeldigheid  !== null) ? new Date(d.eindGeldigheid + 'Z'): null;\n  timeLine.value = d.value;\n\n  timeTable.push(timeLine);\n});\n\n\n","import {\n  scaleTime,\n  extent,\n  axisLeft,\n  axisBottom,\n  min,\n  max,\n  timeDay,\n} from 'd3';\n\nexport const timePlot = () => {\n  let width;\n  let height;\n  let data;\n  let xbValue;\n  let xeValue;\n  let ybValue;\n  let yeValue;\n  let xMax;\n  let yMax;\n  let value;\n  let margin;\n\n  const my = (selection) => {\n    \n   \n    const x = scaleTime()\n      .domain([max(data, xbValue), xMax])\n      .range([margin.left, width - margin.right]);\n\n    const y = scaleTime()\n      .domain([max(data, ybValue), yMax])\n      .range([\n        height - margin.bottom,\n        margin.top,\n      ]);\n    \n    function checkRegistratieEndDate(date) {\n      return (date === null) ? xMax : date;\n    }\n    \n        function checkGeldigheidEndDate(date) {\n      return (date === null) ? yMax : date;\n    }\n\n    const marks = data.map((d, i) => ({\n      x: x(xbValue(d)),\n      y: y(ybValue(d)),\n      width: x(checkRegistratieEndDate(xeValue(d))) - x(xbValue(d)),\n      height: y(checkGeldigheidEndDate(yeValue(d))) - y(ybValue(d)),\n    }));\n\n    console.log('data');\n    console.log(data);\n    console.log('marks');\n    console.log(marks);\n\n    /*\n    \n    https://stackoverflow.com/questions/25284570/add-rectangles-over-dates-d3\n    \n    svg.selectAll('.time-span-rect')\n  .data(data)\n  .enter().append('rect')\n    .attr('class', 'time-span-rect')\n    .attr('x', function(d) { return x(d.start_dt); })\n    .attr('y', 0)\n    .attr('width', function(d) { return x(d.end_dt) - x(d.start_dt); })\n    .attr('height', height);\n    \n     selection\n      .selectAll('rect')\n      .data(marks)\n      .enter()\n      .append('rect')\n      .attr('class', 'time-span-rect')\n    \t.attr('x', (d) => d.x)\n      .attr('y', (d) => d.y)\n    \t.attr('width', (d) => d.width)\n      .attr('height', (d) => d.height);\n    \n    selection\n      .selectAll('rect')\n      .data(marks)\n      .join('rect')\n      .attr('x', (d) => d.x)\n      .attr('y', (d) => d.y)\n      .attr('width', (d) => d.width)\n      .attr('height', (d) => d.height);\n*/\n\n    selection\n      .append('g')\n      .attr(\n        'transform',\n        `translate(${margin.left},0)`\n      )\n      .call(axisLeft(y));\n\n    selection\n      .append('g')\n      .attr(\n        'transform',\n        `translate(0, ${height - margin.bottom})`\n      )\n      .call(axisBottom(x));\n  };\n\n  my.width = function (_) {\n    return arguments.length\n      ? ((width = +_), my)\n      : width;\n  };\n\n  my.height = function (_) {\n    return arguments.length\n      ? ((height = +_), my)\n      : height;\n  };\n\n  my.data = function (_) {\n    return arguments.length\n      ? ((data = _), my)\n      : data;\n  };\n\n  my.xbValue = function (_) {\n    return arguments.length\n      ? ((xbValue = _), my)\n      : xbValue;\n  };\n\n  my.xeValue = function (_) {\n    return arguments.length\n      ? ((xeValue = _), my)\n      : xeValue;\n  };\n\n  my.xMax = function (_) {\n    return arguments.length\n      ? ((xMax = _), my)\n      : xMax;\n  };\n\n  my.ybValue = function (_) {\n    return arguments.length\n      ? ((ybValue = _), my)\n      : ybValue;\n  };\n  my.yeValue = function (_) {\n    return arguments.length\n      ? ((yeValue = _), my)\n      : yeValue;\n  };\n\n  my.yMax = function (_) {\n    return arguments.length\n      ? ((yMax = _), my)\n      : yMax;\n  };\n\n  my.margin = function (_) {\n    return arguments.length\n      ? ((margin = _), my)\n      : margin;\n  };\n\n  my.xWidth = function (_) {\n    return arguments.length\n      ? ((xWidth = _), my)\n      : xWidth;\n  };\n\n  my.yHeight = function (_) {\n    return arguments.length\n      ? ((yHeight = _), my)\n      : yHeight;\n  };\n\n  my.value = function (_) {\n    return arguments.length\n      ? ((value = _), my)\n      : value;\n  };\n\n  return my;\n};\n","import { max, select } from 'd3';\nimport { timeTable } from './data';\nimport { timePlot } from './timePlot';\n\nconst width = window.innerWidth;\nconst height = window.innerHeight;\n\nconst svg = select('body')\n  .append('svg')\n  .attr('width', width)\n  .attr('height', height);\n\nconsole.log('timeTable');\nconsole.log(timeTable);\n\n\n\nconst drawGraph = async () => {\n  svg.call(\n    timePlot()\n      .width(width)\n      .height(height)\n      .data(timeTable)\n      .xbValue((d) => d.tijdstipRegistratie)\n      .xeValue((d) => d.eindRegistratie)\n      .ybValue((d) => d.beginGeldigheid)\n      .yeValue((d) => d.eindGeldigheid)\n      .xMax(maxX)\n      .yMax(maxY)\n      .value((d) => d.value)\n      .margin({\n        top: 20,\n        right: 20,\n        bottom: 40,\n        left: 50,\n      })\n  );\n};\n\ndrawGraph();\n"],"names":["scaleTime","max","axisLeft","axisBottom","select"],"mappings":"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"}