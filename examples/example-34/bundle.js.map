{"version":3,"file":"bundle.js","sources":["scatterPlot.js","index.js"],"sourcesContent":["import {\n  scaleLinear,\n  extent,\n  axisLeft,\n  axisBottom,\n  symbols,\n  symbol,\n  scaleOrdinal,\n} from 'd3';\n\nexport const scatterPlot = () => {\n  let width;\n  let height;\n  let data;\n  let xValue;\n  let yValue;\n  let symbolValue;\n  let margin;\n  let size;\n\n  const my = (selection) => {\n    // determine x axis\n    // domain - functional data must map to range - pixels on screen\n    const x = scaleLinear()\n      .domain(extent(data, xValue))\n      .range([margin.left, width - margin.right]);\n\n    const y = scaleLinear()\n      .domain(extent(data, yValue))\n      .range([\n        height - margin.bottom,\n        margin.top,\n      ]); // flip y values 0,0 is top left, top by flipping it becomes left bottom\n\n    const symbolScale = scaleOrdinal()\n      .domain(data.map(symbolValue))\n      .range(symbols);\n    \n    const symbolGenerator = symbol().size(size);\n\n    const marks = data.map((d) => ({\n      x: x(xValue(d)),\n      y: y(yValue(d)),\n      pahtD: symbolGenerator.type(symbolScale(symbolValue(d)))(),\n    }));\n    \n    selection\n      .selectAll('path')\n      .data(marks)\n      .join('path')      \n      .attr('d', (d) => d.pahtD)\n    .attr('transform', (d) => `translate(${d.x}, ${d.y})`)\n    ;\n\n    selection\n      .append('g')\n      .attr(\n        'transform',\n        `translate(${margin.left},0)`\n      )\n      .call(axisLeft(y));\n\n    selection\n      .append('g')\n      .attr(\n        'transform',\n        `translate(0, ${height - margin.bottom})`\n      )\n      .call(axisBottom(x));\n  };\n\n  /*\n  long format\n  \n  my.width = function(value) {    // arguments is defined\n    if (!arguments.length) return width;\n    width = value;\n    return my;\n  };  \n  */\n\n  my.width = function (_) {\n    return arguments.length\n      ? ((width = +_), my)\n      : width;\n  };\n\n  my.height = function (_) {\n    return arguments.length\n      ? ((height = +_), my)\n      : height;\n  };\n\n  my.data = function (_) {\n    return arguments.length\n      ? ((data = _), my)\n      : data;\n  };\n\n  my.xValue = function (_) {\n    return arguments.length\n      ? ((xValue = _), my)\n      : xValue;\n  };\n\n  my.yValue = function (_) {\n    return arguments.length\n      ? ((yValue = _), my)\n      : yValue;\n  };\n\n  my.symbolValue = function (_) {\n    return arguments.length\n      ? ((symbolValue = _), my)\n      : symbolValue;\n  };\n\n  my.margin = function (_) {\n    return arguments.length\n      ? ((margin = _), my)\n      : margin;\n  };\n\n  my.size = function (_) {\n    return arguments.length\n      ? ((size = +_), my)\n      : size;\n  };\n\n  return my;\n};\n","import { csv, select } from 'd3';\nimport { scatterPlot } from './scatterPlot';\n\nconst csvUrl = [\n  'https://gist.githubusercontent.com/', // host\n  'curran/', // user\n  'a08a1080b88344b0c8a7/', // gist id\n  'raw/',\n  '0e7a9b0a5d22642a06d3d5b9bcbad9890c8ee534/', // commit\n  'iris.csv', // file name\n].join('');\n\n// convert strings to numbers\nconst parseRow = (d) => {\n  d.sepal_length = +d.sepal_length;\n  d.sepal_width = +d.sepal_width;\n  d.petal_length = +d.petal_length;\n  d.petal_width = +d.petal_width;\n  return d;\n};\n\nconst width = window.innerWidth;\nconst height = window.innerHeight;\n\nconst svg = select('body')\n  .append('svg')\n  .attr('width', width)\n  .attr('height', height);\n\n// Generic\nconst main = async () => {\n  svg.call(\n    scatterPlot()\n      .width(width)\n      .height(height)\n      .data(await csv(csvUrl, parseRow))\n      .xValue((d) => d.petal_width)\n      .yValue((d) => d.sepal_length)\n    \t.symbolValue((d) => d.species)\n      .margin({\n        top: 20,\n        right: 20,\n        bottom: 40,\n        left: 50,\n      })\n      .size(1)\n  );\n};\n\nmain();\n"],"names":["scaleLinear","extent","scaleOrdinal","symbols","symbol","axisLeft","axisBottom","select","csv"],"mappings":"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"}